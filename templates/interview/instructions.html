{% extends 'base.html' %}

{% block title %}Interview Guidelines{% endblock %}
{% block page_title %}Before You Start{% endblock %}

{% block content %}
<div class="row">
  <div class="col-lg-9 mx-auto">
    <div class="card" style="padding: 20px;">
      <div style="display:flex; justify-content: space-between; align-items: baseline; gap: 12px; flex-wrap: wrap;">
        <h2 style="margin:0; font-size: 22px;">Mock Interview Instructions</h2>
        <span style="font-size:14px; color: var(--text-muted);">{{ total_questions|default:9 }} questions • {{ interview_mode|title }} mode</span>
      </div>

      <div class="alert alert-info mt-3" role="alert" style="border-radius: 8px;">
        <i class="bi bi-lightbulb"></i>
        <strong style="margin-left: 6px;">Pro Tip:</strong>
        Include as many relevant technical keywords as possible (aim for 80%+ coverage) and use specific terminology to maximize your score. Quality and comprehensiveness are rewarded!
      </div>

      <div class="row g-3 mt-1">
        <div class="col-md-6">
          <div style="padding:16px; background: var(--bg-light); border:1px solid var(--border-color); border-radius: 8px; height: 100%;">
            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">How Scoring Works</h4>
            <ul style="margin:0 0 0 18px; padding:0; font-size: 14px; line-height: 1.5;">
              <li><strong>Smart Algorithm:</strong> Each answer scored 0–100% across three optimized factors:</li>
              <li><strong>Keyword Coverage (60% + 10% bonus):</strong> Match expected concepts and terminology. Fuzzy matching allows minor variations. Get 10% bonus for covering ≥80% of keywords!</li>
              <li><strong>Technical Quality (20%):</strong> Use of substantive technical terms, proper terminology, and specific details (not vague descriptions).</li>
              <li><strong>Answer Detail (20%):</strong> Flexible length acceptance—can be concise or comprehensive. Focus on quality over quantity.</li>
              <li><strong>Performance Levels:</strong> Strong ≥ 75% • Mid 40–74% • Weak &lt; 40%.</li>
              <li>Your overall score is the average across all questions with personalized feedback and level recommendations.</li>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <div style="padding:16px; background: var(--bg-light); border:1px solid var(--border-color); border-radius: 8px; height: 100%;">
            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Adaptive Mode</h4>
            <ul style="margin:0 0 0 18px; padding:0; font-size: 14px; line-height: 1.5;">
              <li>Starts at your current level ({{ current_level|default:"beginner" }}).</li>
              <li>Next questions adjust based on your previous answer scores.</li>
              <li>Target: {{ total_questions|default:9 }} questions (approx. 2 min each).</li>
              <li>Keep answers focused; include definitions, trade-offs, and examples.</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="row g-3 mt-1">
        <div class="col-md-6">
          <div style="padding:16px; background: var(--bg-light); border:1px solid var(--border-color); border-radius: 8px; height: 100%;">
            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Answering Guidelines</h4>
            <ul style="margin:0 0 0 18px; padding:0; font-size: 14px; line-height: 1.5;">
              <li><strong>Include Key Concepts:</strong> Use relevant technical keywords and terminology related to the question.</li>
              <li><strong>Be Comprehensive:</strong> Aim to cover 80%+ of expected concepts for the bonus score boost.</li>
              <li><strong>Use Technical Terms:</strong> Include specific technical vocabulary (≥6 characters) to demonstrate depth.</li>
              <li><strong>Flexible Length:</strong> Can be brief (30 words) or detailed (200+ words)—quality matters more than quantity.</li>
              <li><strong>Be Specific:</strong> Provide concrete examples, use cases, or technical details rather than vague descriptions.</li>
              <li><strong>Stay Focused:</strong> Answer the question directly; avoid unrelated tangents or hedging phrases.</li>
            </ul>
          </div>
        </div>
        <div class="col-md-6">
          <div style="padding:16px; background: var(--bg-light); border:1px solid var(--border-color); border-radius: 8px; height: 100%;">
            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 8px;">Marking & Results</h4>
            <ul style="margin:0 0 0 18px; padding:0; font-size: 14px; line-height: 1.5;">
              <li>Per-question score contributes to overall percentage.</li>
              <li>Performance levels: Beginner, Intermediate, Advanced.</li>
              <li>Strengths and weak areas summarized by skill categories.</li>
              <li>Skill Proficiency updates only after completing interviews.</li>
            </ul>
          </div>
        </div>
      </div>

      <form method="POST" class="mt-3">
        {% csrf_token %}
        <div style="display:flex; justify-content: flex-end; gap: 12px;">
          <a href="{% url 'interview_dashboard' %}" class="btn btn-outline-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Start Interview</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
